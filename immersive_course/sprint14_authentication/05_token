토큰기반인증을 쓰는 이유

세션기반인증 = 서버(혹은 db)에 유저 정보를 넘기는 방식
이 부담을 클라이언트에게 넘겨주기 위해 고안됨
대표적인 토큰기반인증 JWT(Json Web Token)

토큰이란?

화폐로 사용하는 토큰을 생각
ex) 오락실에서 사용하는 토큰
    행사에 입장할때 사용하는 토큰
    놀이공원에 입장료를 내면 주는 토큰
    > 나는 돈을 지불 했고, 이 시설을 사용할 수 있다는 메세지를 담고 있음
클라이언트가 토큰을 가지고 있으면 서버에게 보여주고 다양한 기능을 요청 가능

여기서 토큰은 유저정보를 암호화한 상태로 담을 수 잇고, 암호화햇기에 클라이언트에 담을 수 있다

JWT
JSon포맷으로 사용자에 대한 속성을 저장하는 토큰

JWT 구조
1. Header
어떤 종류의 토큰인가
어떤 알고리즘으로 암호화하는가

2. payload
유저의 정보
권한을 부여받았는가
기타 필요한정보

3. signature
Header, payload를 base64 인코딩한 값과 salt값의 조합으로 암호화된 값

토큰기반 인증의 장점
1. statless & scalabitiy (무상태성, 확장성)
서버는 클라이언트에 대한 정보를 저장할 필요 x
토큰을 헤더에 추가함으로 인증 절차 완료

2. 안정성
암호화한 토큰을 사용
암호화키를 노춣할 필요 x

3. 어디서나 생성가능
토큰을 생성하는 서버가 꼭 토큰을 만들지 않아도 됨

4. 권한 부여에 용이
토큰의 paylaod안에 어던 정보에접근 가능한지 용이
