비교연산자

$eq : 같음

$ne : 같지 않음

$gt :  초과

$lt : 미만

$gte : 이상

$lte : 이하

ex) {<filed> :<operator>:<value>}

논리연산자

$and : 주어진 모든 쿼리절과 일치하는가

$or : 주어진 쿼리절중 하나라도 일치하는가

$nor : 주어진 모든 쿼리절과 일치하지 않는가

$not : 주어진 쿼리절과 일치하지 않는가

논리연산자는 조건에 충족하는 도큐먼트를 반환한다.

and, or, nor은 작동할 절의 배열 앞에 위치한다

ex) {<operator>:[{statment1},{statement2} ...]}

not은 배열구문이 필요하지 않다

ex) {$not : {statement}}

$and연산자는 연산자가 지정되지 않을때 기본연산자로 사용된다.

표현연산자

$expr : 쿼리내에서 집계표현식을 사용할 수 있다
        ex) {$expr : {<expression>}}

        변수와 조건문을 사용할 수 있다

        같은 도큐먼트 내의 필드들을 서로 비교할 수 있다
    
$ 는 연산자를 사용할 때에도 나타내며, 필드의 값을 향할때도 사용한다.

$를 사용하면 각각 도큐먼트 마다 달라지는 특정 필드의 값을 변수처럼 비교할 수 있다

배열연산자

$push : 배열의 마지막위치에 엘리먼트를 넣습니다

        배열이 아닌 필드에 사용했을 경우 필드의 타입을 배열로 바꿉니다

$size : 지정된 배열 필드가 주어진 길이와 정확히 일치하는 모든 도큐먼트들이 있는 커서를 반환한다.
        ex) {<array filed> : {'$size" : <number>}}

$all : 지정된 배열 필드의 배열 순서와 관계없이 지정된 모든 요소가 포함된 모든 도큐먼트들이 있는 커서를 반환한다
        ex) {<array filed> : {'$all" : <array>}}

{<array filed> : <array>} : 지정된 배열필드에 요소와 순서가 정확히 일치하는 배열을 가진 도큐먼트를 찾는다

{<array filed> : <string>} : 지정도니 배열필드에 문자열로 주어진 요소가 포함된 모든 도큐먼트를 찾습니다

배열연산자와 projection

두번째 인자로 projection을 추가할 경우 해당 필드만 결과커서에 포함된다.

projection은 0과 1을 사용해 결과에 표시하거나 표시하지 않을 필드를 지정할 수 있다

1을 사용할 경우 지정한 필드와 _id필드만 가져온다

0을 사용할 경우 지정한 필드를 제외한 모든 필드가 표시된다

1과 0을 혼용할 수 있는 유일한 경우는 디폴트로 포함되는 _id필드를 제외하도록 요청할 때이다


